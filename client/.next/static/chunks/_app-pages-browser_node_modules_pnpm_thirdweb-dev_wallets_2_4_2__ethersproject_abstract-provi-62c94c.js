"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_pnpm_thirdweb-dev_wallets_2_4_2__ethersproject_abstract-provi-62c94c"],{

/***/ "(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmbeddedWalletConnector: function() { return /* binding */ EmbeddedWalletConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-a5db7c83.browser.esm.js\");\n/* harmony import */ var _dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/defineProperty-d7c057bf.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/defineProperty-d7c057bf.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js\");\n/* harmony import */ var _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/walletIds-afeb5af2.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/walletIds-afeb5af2.browser.esm.js\");\n/* harmony import */ var _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/connector-05689d68.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/connector-05689d68.browser.esm.js\");\n/* harmony import */ var _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/embedded-wallet-171843f6.browser.esm.js */ \"(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/dist/embedded-wallet-171843f6.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"(app-pages-browser)/./node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nvar _embeddedWalletSdk = /*#__PURE__*/ new WeakMap();\nvar _signer = /*#__PURE__*/ new WeakMap();\nclass EmbeddedWalletConnector extends _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.C {\n    getEmbeddedWalletSDK() {\n        if (!(0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.b)(this, _embeddedWalletSdk)) {\n            (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _embeddedWalletSdk, new _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.E({\n                clientId: this.options.clientId,\n                chain: \"Ethereum\",\n                onAuthSuccess: this.options.onAuthSuccess\n            }));\n        }\n        return (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.b)(this, _embeddedWalletSdk);\n    }\n    async connect(args) {\n        // backwards compatibility - options should really be required here\n        if (!args) {\n            // default to iframe flow\n            const result = await this.authenticate({\n                strategy: \"iframe\"\n            });\n            if (!result.user) {\n                throw new Error(\"Error connecting User\");\n            }\n            this.user = result.user;\n        } else {\n            if (!args.authResult) {\n                throw new Error(\"Missing authData - call authenticate() first with your authentication strategy\");\n            }\n            if (!args.authResult.user) {\n                throw new Error(\"Missing authData.user - call authenticate() first with your authentication strategy\");\n            }\n            this.user = args.authResult.user;\n        }\n        if (args === null || args === void 0 ? void 0 : args.chainId) {\n            this.switchChain(args.chainId);\n        }\n        return this.getAddress();\n    }\n    async disconnect() {\n        const paper = (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.b)(this, _embeddedWalletSdk);\n        await (paper === null || paper === void 0 ? void 0 : paper.auth.logout());\n        (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _signer, undefined);\n        (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _embeddedWalletSdk, undefined);\n        this.user = null;\n    }\n    async getAddress() {\n        if (!this.user) {\n            throw new Error(\"Embedded Wallet is not connected\");\n        }\n        return await this.getSigner().then((signer)=>signer.getAddress());\n    }\n    async isConnected() {\n        try {\n            const addr = await this.getAddress();\n            return !!addr;\n        } catch (e) {\n            return false;\n        }\n    }\n    async getProvider() {\n        const signer = await this.getSigner();\n        if (!signer.provider) {\n            throw new Error(\"Provider not found\");\n        }\n        return signer.provider;\n    }\n    async getSigner() {\n        if ((0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.b)(this, _signer)) {\n            return (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.b)(this, _signer);\n        }\n        const user = await this.getUser();\n        const signer = await user.wallet.getEthersJsSigner({\n            rpcEndpoint: this.options.chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n        });\n        if (!signer) {\n            throw new Error(\"Signer not found\");\n        }\n        (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _signer, signer);\n        return signer;\n    }\n    async isAuthorized() {\n        return false;\n    }\n    async switchChain(chainId) {\n        const chain = this.options.chains.find((c)=>c.chainId === chainId);\n        if (!chain) {\n            throw new Error(\"Chain not configured\");\n        }\n        try {\n            var _this_user, _this_user1;\n            // update chain in wallet\n            await ((_this_user = this.user) === null || _this_user === void 0 ? void 0 : _this_user.wallet.setChain({\n                chain: \"Ethereum\"\n            })); // just pass Ethereum no matter what chain we are going to connect\n            // update signer\n            (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _signer, await ((_this_user1 = this.user) === null || _this_user1 === void 0 ? void 0 : _this_user1.wallet.getEthersJsSigner({\n                rpcEndpoint: chain.rpc[0] || \"\"\n            })));\n            this.emit(\"change\", {\n                chain: {\n                    id: chainId,\n                    unsupported: false\n                }\n            });\n        } catch (e) {\n            console.warn(\"Failed to switch chain\", e);\n        }\n    }\n    async setupListeners() {\n        return Promise.resolve();\n    }\n    updateChains(chains) {\n        this.options.chains = chains;\n    }\n    async getUser() {\n        if (!this.user || !this.user.wallet || !this.user.wallet.getEthersJsSigner // when serializing, functions are lost, need to rehydrate\n        ) {\n            const embeddedWalletSdk = this.getEmbeddedWalletSDK();\n            const user = await embeddedWalletSdk.getUser();\n            switch(user.status){\n                case _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.U.LOGGED_IN_WALLET_INITIALIZED:\n                    {\n                        this.user = user;\n                        break;\n                    }\n                default:\n                    {\n                        // if logged out or unitialized, we can't get a signer, so throw an error\n                        throw new Error(\"Embedded Wallet is not authenticated, please authenticate first\");\n                    }\n            }\n        }\n        return this.user;\n    }\n    async getEmail() {\n        const user = await this.getUser();\n        return user.authDetails.email;\n    }\n    async getRecoveryInformation() {\n        const user = await this.getUser();\n        return user.authDetails;\n    }\n    async sendVerificationEmail(_ref) {\n        let { email } = _ref;\n        const ewSDK = this.getEmbeddedWalletSDK();\n        return ewSDK.auth.sendEmailLoginOtp({\n            email\n        });\n    }\n    async authenticate(params) {\n        const ewSDK = this.getEmbeddedWalletSDK();\n        const strategy = params.strategy;\n        switch(strategy){\n            case \"email_verification\":\n                {\n                    return await ewSDK.auth.verifyEmailLoginOtp({\n                        email: params.email,\n                        otp: params.verificationCode,\n                        recoveryCode: params.recoveryCode\n                    });\n                }\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n                {\n                    const oauthProvider = oauthStrategyToAuthProvider[strategy];\n                    return ewSDK.auth.loginWithOauth({\n                        oauthProvider,\n                        closeOpenedWindow: params.closeOpenedWindow,\n                        openedWindow: params.openedWindow\n                    });\n                }\n            case \"jwt\":\n                {\n                    return ewSDK.auth.loginWithCustomJwt({\n                        jwt: params.jwt,\n                        encryptionKey: params.encryptionKey\n                    });\n                }\n            case \"auth_endpoint\":\n                {\n                    return ewSDK.auth.loginWithCustomAuthEndpoint({\n                        payload: params.payload,\n                        encryptionKey: params.encryptionKey\n                    });\n                }\n            case \"iframe_email_verification\":\n                {\n                    return ewSDK.auth.loginWithEmailOtp({\n                        email: params.email\n                    });\n                }\n            case \"iframe\":\n                {\n                    return ewSDK.auth.loginWithModal();\n                }\n            default:\n                assertUnreachable(strategy);\n        }\n    }\n    constructor(options){\n        super();\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"id\", _dist_walletIds_afeb5af2_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.w.paper);\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"name\", \"Embedded Wallet\");\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"ready\", true);\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"user\", null);\n        (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _embeddedWalletSdk, {\n            writable: true,\n            value: void 0\n        });\n        (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _signer, {\n            writable: true,\n            value: void 0\n        });\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onAccountsChanged\", async (accounts)=>{\n            if (accounts.length === 0) {\n                await this.onDisconnect();\n            } else {\n                this.emit(\"change\", {\n                    account: ethers__WEBPACK_IMPORTED_MODULE_6__.getAddress(accounts[0])\n                });\n            }\n        });\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onChainChanged\", (chainId)=>{\n            const id = (0,_dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.n)(chainId);\n            const unsupported = this.options.chains.findIndex((c)=>c.chainId === id) === -1;\n            this.emit(\"change\", {\n                chain: {\n                    id,\n                    unsupported\n                }\n            });\n        });\n        (0,_dist_defineProperty_d7c057bf_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onDisconnect\", async ()=>{\n            this.emit(\"disconnect\");\n        });\n        this.options = options;\n    }\n}\nfunction assertUnreachable(x) {\n    throw new Error(\"Invalid param: \" + x);\n}\nconst oauthStrategyToAuthProvider = {\n    google: _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.c.GOOGLE,\n    facebook: _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.c.FACEBOOK,\n    apple: _dist_embedded_wallet_171843f6_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.c.APPLE\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGhpcmR3ZWItZGV2K3dhbGxldHNAMi40LjJfQGV0aGVyc3Byb2plY3QrYWJzdHJhY3QtcHJvdmlkZXJANS43LjBfQGV0aGVyc3Byb2plY3QrYWJzdHJhY3Qtc2lfcTN1aGo1NHZ3MnRxY2R4b24yNGN2Z3BsYmEvbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9ldm0vY29ubmVjdG9ycy9lbWJlZGRlZC13YWxsZXQvZGlzdC90aGlyZHdlYi1kZXYtd2FsbGV0cy1ldm0tY29ubmVjdG9ycy1lbWJlZGRlZC13YWxsZXQuYnJvd3Nlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdLO0FBQ3pFO0FBQ2hFO0FBQ21FO0FBQ2Q7QUFDQTtBQUN3RDtBQUNySDtBQUNpQjtBQUNkO0FBQ0M7QUFFM0IsSUFBSW9CLHFCQUFxQixXQUFXLEdBQUUsSUFBSUM7QUFDMUMsSUFBSUMsVUFBVSxXQUFXLEdBQUUsSUFBSUQ7QUFDL0IsTUFBTUUsZ0NBQWdDVixzRUFBU0E7SUF1QzdDVyx1QkFBdUI7UUFDckIsSUFBSSxDQUFDckIscUZBQXFCQSxDQUFDLElBQUksRUFBRWlCLHFCQUFxQjtZQUNwRGYscUZBQXFCQSxDQUFDLElBQUksRUFBRWUsb0JBQW9CLElBQUlMLDRFQUFpQkEsQ0FBQztnQkFDcEVVLFVBQVUsSUFBSSxDQUFDQyxPQUFPLENBQUNELFFBQVE7Z0JBQy9CRSxPQUFPO2dCQUNQQyxlQUFlLElBQUksQ0FBQ0YsT0FBTyxDQUFDRSxhQUFhO1lBQzNDO1FBQ0Y7UUFDQSxPQUFPekIscUZBQXFCQSxDQUFDLElBQUksRUFBRWlCO0lBQ3JDO0lBQ0EsTUFBTVMsUUFBUUMsSUFBSSxFQUFFO1FBQ2xCLG1FQUFtRTtRQUNuRSxJQUFJLENBQUNBLE1BQU07WUFDVCx5QkFBeUI7WUFDekIsTUFBTUMsU0FBUyxNQUFNLElBQUksQ0FBQ0MsWUFBWSxDQUFDO2dCQUNyQ0MsVUFB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NEI7WUFDNUIsTUFBTTJCLGNBQWMsSUFBSSxDQUFDdEMsT0FBTyxDQUFDaUMsTUFBTSxDQUFDZ0QsU0FBUyxDQUFDekYsQ0FBQUEsSUFBS0EsRUFBRW1CLE9BQU8sS0FBSzBCLFFBQVEsQ0FBQztZQUM5RSxJQUFJLENBQUNELElBQUksQ0FBQyxVQUFVO2dCQUNsQm5DLE9BQU87b0JBQ0xvQztvQkFDQUM7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0ExRCwrRUFBZUEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3BDLElBQUksQ0FBQ3dELElBQUksQ0FBQztRQUNaO1FBQ0EsSUFBSSxDQUFDcEMsT0FBTyxHQUFHQTtJQUNqQjtBQXVNRjtBQUNBLFNBQVN5RSxrQkFBa0JTLENBQUM7SUFDMUIsTUFBTSxJQUFJekUsTUFBTSxvQkFBb0J5RTtBQUN0QztBQUNBLE1BQU1wQiw4QkFBOEI7SUFDbENxQixRQUFRMUYsNEVBQVlBLENBQUMyRixNQUFNO0lBQzNCQyxVQUFVNUYsNEVBQVlBLENBQUM2RixRQUFRO0lBQy9CQyxPQUFPOUYsNEVBQVlBLENBQUMrRixLQUFLO0FBQzNCO0FBRW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGhpcmR3ZWItZGV2K3dhbGxldHNAMi40LjJfQGV0aGVyc3Byb2plY3QrYWJzdHJhY3QtcHJvdmlkZXJANS43LjBfQGV0aGVyc3Byb2plY3QrYWJzdHJhY3Qtc2lfcTN1aGo1NHZ3MnRxY2R4b24yNGN2Z3BsYmEvbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9ldm0vY29ubmVjdG9ycy9lbWJlZGRlZC13YWxsZXQvZGlzdC90aGlyZHdlYi1kZXYtd2FsbGV0cy1ldm0tY29ubmVjdG9ycy1lbWJlZGRlZC13YWxsZXQuYnJvd3Nlci5lc20uanM/YmViMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIGFzIF9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjLCBiIGFzIF9jbGFzc1ByaXZhdGVGaWVsZEdldCwgYSBhcyBfY2xhc3NQcml2YXRlRmllbGRTZXQgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2NsYXNzUHJpdmF0ZUZpZWxkU2V0LWE1ZGI3YzgzLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9kZWZpbmVQcm9wZXJ0eS1kN2MwNTdiZi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBuIGFzIG5vcm1hbGl6ZUNoYWluSWQgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L25vcm1hbGl6ZUNoYWluSWQtMWZiOWFlZGYuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgdyBhcyB3YWxsZXRJZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L3dhbGxldElkcy1hZmViNWFmMi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBDIGFzIENvbm5lY3RvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvY29ubmVjdG9yLTA1Njg5ZDY4LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IEUgYXMgRW1iZWRkZWRXYWxsZXRTZGssIFUgYXMgVXNlcldhbGxldFN0YXR1cywgYyBhcyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2VtYmVkZGVkLXdhbGxldC0xNzE4NDNmNi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0ICdAcGFwZXJ4eXovc2RrLWNvbW1vbi11dGlsaXRpZXMnO1xuaW1wb3J0ICdldGhlcnMvbGliL3V0aWxzJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9zZGsnO1xuXG52YXIgX2VtYmVkZGVkV2FsbGV0U2RrID0gLyojX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG52YXIgX3NpZ25lciA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuY2xhc3MgRW1iZWRkZWRXYWxsZXRDb25uZWN0b3IgZXh0ZW5kcyBDb25uZWN0b3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZFwiLCB3YWxsZXRJZHMucGFwZXIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJFbWJlZGRlZCBXYWxsZXRcIik7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZHlcIiwgdHJ1ZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCBudWxsKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyh0aGlzLCBfZW1iZWRkZWRXYWxsZXRTZGssIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjKHRoaXMsIF9zaWduZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQWNjb3VudHNDaGFuZ2VkXCIsIGFzeW5jIGFjY291bnRzID0+IHtcbiAgICAgIGlmIChhY2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgICAgYWNjb3VudDogdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25DaGFpbkNoYW5nZWRcIiwgY2hhaW5JZCA9PiB7XG4gICAgICBjb25zdCBpZCA9IG5vcm1hbGl6ZUNoYWluSWQoY2hhaW5JZCk7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZCA9IHRoaXMub3B0aW9ucy5jaGFpbnMuZmluZEluZGV4KGMgPT4gYy5jaGFpbklkID09PSBpZCkgPT09IC0xO1xuICAgICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgY2hhaW46IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB1bnN1cHBvcnRlZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkRpc2Nvbm5lY3RcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcbiAgICB9KTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIGdldEVtYmVkZGVkV2FsbGV0U0RLKCkge1xuICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9lbWJlZGRlZFdhbGxldFNkaykpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfZW1iZWRkZWRXYWxsZXRTZGssIG5ldyBFbWJlZGRlZFdhbGxldFNkayh7XG4gICAgICAgIGNsaWVudElkOiB0aGlzLm9wdGlvbnMuY2xpZW50SWQsXG4gICAgICAgIGNoYWluOiBcIkV0aGVyZXVtXCIsXG4gICAgICAgIG9uQXV0aFN1Y2Nlc3M6IHRoaXMub3B0aW9ucy5vbkF1dGhTdWNjZXNzXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2VtYmVkZGVkV2FsbGV0U2RrKTtcbiAgfVxuICBhc3luYyBjb25uZWN0KGFyZ3MpIHtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAtIG9wdGlvbnMgc2hvdWxkIHJlYWxseSBiZSByZXF1aXJlZCBoZXJlXG4gICAgaWYgKCFhcmdzKSB7XG4gICAgICAvLyBkZWZhdWx0IHRvIGlmcmFtZSBmbG93XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIHN0cmF0ZWd5OiBcImlmcmFtZVwiXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzdWx0LnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29ubmVjdGluZyBVc2VyXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy51c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYXJncy5hdXRoUmVzdWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXV0aERhdGEgLSBjYWxsIGF1dGhlbnRpY2F0ZSgpIGZpcnN0IHdpdGggeW91ciBhdXRoZW50aWNhdGlvbiBzdHJhdGVneVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXJncy5hdXRoUmVzdWx0LnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBhdXRoRGF0YS51c2VyIC0gY2FsbCBhdXRoZW50aWNhdGUoKSBmaXJzdCB3aXRoIHlvdXIgYXV0aGVudGljYXRpb24gc3RyYXRlZ3lcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnVzZXIgPSBhcmdzLmF1dGhSZXN1bHQudXNlcjtcbiAgICB9XG4gICAgaWYgKGFyZ3M/LmNoYWluSWQpIHtcbiAgICAgIHRoaXMuc3dpdGNoQ2hhaW4oYXJncy5jaGFpbklkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWRkcmVzcygpO1xuICB9XG4gIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgY29uc3QgcGFwZXIgPSBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2VtYmVkZGVkV2FsbGV0U2RrKTtcbiAgICBhd2FpdCBwYXBlcj8uYXV0aC5sb2dvdXQoKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3NpZ25lciwgdW5kZWZpbmVkKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2VtYmVkZGVkV2FsbGV0U2RrLCB1bmRlZmluZWQpO1xuICAgIHRoaXMudXNlciA9IG51bGw7XG4gIH1cbiAgYXN5bmMgZ2V0QWRkcmVzcygpIHtcbiAgICBpZiAoIXRoaXMudXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1iZWRkZWQgV2FsbGV0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFNpZ25lcigpLnRoZW4oc2lnbmVyID0+IHNpZ25lci5nZXRBZGRyZXNzKCkpO1xuICB9XG4gIGFzeW5jIGlzQ29ubmVjdGVkKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZGRyID0gYXdhaXQgdGhpcy5nZXRBZGRyZXNzKCk7XG4gICAgICByZXR1cm4gISFhZGRyO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0UHJvdmlkZXIoKSB7XG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgdGhpcy5nZXRTaWduZXIoKTtcbiAgICBpZiAoIXNpZ25lci5wcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZXIgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICByZXR1cm4gc2lnbmVyLnByb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGdldFNpZ25lcigpIHtcbiAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9zaWduZXIpKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9zaWduZXIpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgdXNlci53YWxsZXQuZ2V0RXRoZXJzSnNTaWduZXIoe1xuICAgICAgcnBjRW5kcG9pbnQ6IHRoaXMub3B0aW9ucy5jaGFpbi5ycGNbMF0gfHwgXCJcIiAvLyBUT0RPOiBoYW5kbGUgY2hhaW4ucnBjIGJlaW5nIGVtcHR5IGFycmF5XG4gICAgfSk7XG4gICAgaWYgKCFzaWduZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpZ25lciBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc2lnbmVyLCBzaWduZXIpO1xuICAgIHJldHVybiBzaWduZXI7XG4gIH1cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhc3luYyBzd2l0Y2hDaGFpbihjaGFpbklkKSB7XG4gICAgY29uc3QgY2hhaW4gPSB0aGlzLm9wdGlvbnMuY2hhaW5zLmZpbmQoYyA9PiBjLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoYWluIG5vdCBjb25maWd1cmVkXCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gdXBkYXRlIGNoYWluIGluIHdhbGxldFxuICAgICAgYXdhaXQgdGhpcy51c2VyPy53YWxsZXQuc2V0Q2hhaW4oe1xuICAgICAgICBjaGFpbjogXCJFdGhlcmV1bVwiXG4gICAgICB9KTsgLy8ganVzdCBwYXNzIEV0aGVyZXVtIG5vIG1hdHRlciB3aGF0IGNoYWluIHdlIGFyZSBnb2luZyB0byBjb25uZWN0XG4gICAgICAvLyB1cGRhdGUgc2lnbmVyXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3NpZ25lciwgYXdhaXQgdGhpcy51c2VyPy53YWxsZXQuZ2V0RXRoZXJzSnNTaWduZXIoe1xuICAgICAgICBycGNFbmRwb2ludDogY2hhaW4ucnBjWzBdIHx8IFwiXCJcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgIGNoYWluOiB7XG4gICAgICAgICAgaWQ6IGNoYWluSWQsXG4gICAgICAgICAgdW5zdXBwb3J0ZWQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBzd2l0Y2ggY2hhaW5cIiwgZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNldHVwTGlzdGVuZXJzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICB1cGRhdGVDaGFpbnMoY2hhaW5zKSB7XG4gICAgdGhpcy5vcHRpb25zLmNoYWlucyA9IGNoYWlucztcbiAgfVxuICBhc3luYyBnZXRVc2VyKCkge1xuICAgIGlmICghdGhpcy51c2VyIHx8ICF0aGlzLnVzZXIud2FsbGV0IHx8ICF0aGlzLnVzZXIud2FsbGV0LmdldEV0aGVyc0pzU2lnbmVyIC8vIHdoZW4gc2VyaWFsaXppbmcsIGZ1bmN0aW9ucyBhcmUgbG9zdCwgbmVlZCB0byByZWh5ZHJhdGVcbiAgICApIHtcbiAgICAgIGNvbnN0IGVtYmVkZGVkV2FsbGV0U2RrID0gdGhpcy5nZXRFbWJlZGRlZFdhbGxldFNESygpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGVtYmVkZGVkV2FsbGV0U2RrLmdldFVzZXIoKTtcbiAgICAgIHN3aXRjaCAodXNlci5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfSU5JVElBTElaRUQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBsb2dnZWQgb3V0IG9yIHVuaXRpYWxpemVkLCB3ZSBjYW4ndCBnZXQgYSBzaWduZXIsIHNvIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbWJlZGRlZCBXYWxsZXQgaXMgbm90IGF1dGhlbnRpY2F0ZWQsIHBsZWFzZSBhdXRoZW50aWNhdGUgZmlyc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy51c2VyO1xuICB9XG4gIGFzeW5jIGdldEVtYWlsKCkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFVzZXIoKTtcbiAgICByZXR1cm4gdXNlci5hdXRoRGV0YWlscy5lbWFpbDtcbiAgfVxuICBhc3luYyBnZXRSZWNvdmVyeUluZm9ybWF0aW9uKCkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFVzZXIoKTtcbiAgICByZXR1cm4gdXNlci5hdXRoRGV0YWlscztcbiAgfVxuICBhc3luYyBzZW5kVmVyaWZpY2F0aW9uRW1haWwoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBlbWFpbFxuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IGV3U0RLID0gdGhpcy5nZXRFbWJlZGRlZFdhbGxldFNESygpO1xuICAgIHJldHVybiBld1NESy5hdXRoLnNlbmRFbWFpbExvZ2luT3RwKHtcbiAgICAgIGVtYWlsXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgYXV0aGVudGljYXRlKHBhcmFtcykge1xuICAgIGNvbnN0IGV3U0RLID0gdGhpcy5nZXRFbWJlZGRlZFdhbGxldFNESygpO1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gcGFyYW1zLnN0cmF0ZWd5O1xuICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgIGNhc2UgXCJlbWFpbF92ZXJpZmljYXRpb25cIjpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBld1NESy5hdXRoLnZlcmlmeUVtYWlsTG9naW5PdHAoe1xuICAgICAgICAgICAgZW1haWw6IHBhcmFtcy5lbWFpbCxcbiAgICAgICAgICAgIG90cDogcGFyYW1zLnZlcmlmaWNhdGlvbkNvZGUsXG4gICAgICAgICAgICByZWNvdmVyeUNvZGU6IHBhcmFtcy5yZWNvdmVyeUNvZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBcImFwcGxlXCI6XG4gICAgICBjYXNlIFwiZmFjZWJvb2tcIjpcbiAgICAgIGNhc2UgXCJnb29nbGVcIjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IG9hdXRoUHJvdmlkZXIgPSBvYXV0aFN0cmF0ZWd5VG9BdXRoUHJvdmlkZXJbc3RyYXRlZ3ldO1xuICAgICAgICAgIHJldHVybiBld1NESy5hdXRoLmxvZ2luV2l0aE9hdXRoKHtcbiAgICAgICAgICAgIG9hdXRoUHJvdmlkZXIsXG4gICAgICAgICAgICBjbG9zZU9wZW5lZFdpbmRvdzogcGFyYW1zLmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgb3BlbmVkV2luZG93OiBwYXJhbXMub3BlbmVkV2luZG93XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJqd3RcIjpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBld1NESy5hdXRoLmxvZ2luV2l0aEN1c3RvbUp3dCh7XG4gICAgICAgICAgICBqd3Q6IHBhcmFtcy5qd3QsXG4gICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBwYXJhbXMuZW5jcnlwdGlvbktleVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiYXV0aF9lbmRwb2ludFwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGV3U0RLLmF1dGgubG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHtcbiAgICAgICAgICAgIHBheWxvYWQ6IHBhcmFtcy5wYXlsb2FkLFxuICAgICAgICAgICAgZW5jcnlwdGlvbktleTogcGFyYW1zLmVuY3J5cHRpb25LZXlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBcImlmcmFtZV9lbWFpbF92ZXJpZmljYXRpb25cIjpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBld1NESy5hdXRoLmxvZ2luV2l0aEVtYWlsT3RwKHtcbiAgICAgICAgICAgIGVtYWlsOiBwYXJhbXMuZW1haWxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBcImlmcmFtZVwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGV3U0RLLmF1dGgubG9naW5XaXRoTW9kYWwoKTtcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXNzZXJ0VW5yZWFjaGFibGUoc3RyYXRlZ3kpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VW5yZWFjaGFibGUoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtOiBcIiArIHgpO1xufVxuY29uc3Qgb2F1dGhTdHJhdGVneVRvQXV0aFByb3ZpZGVyID0ge1xuICBnb29nbGU6IEF1dGhQcm92aWRlci5HT09HTEUsXG4gIGZhY2Vib29rOiBBdXRoUHJvdmlkZXIuRkFDRUJPT0ssXG4gIGFwcGxlOiBBdXRoUHJvdmlkZXIuQVBQTEVcbn07XG5cbmV4cG9ydCB7IEVtYmVkZGVkV2FsbGV0Q29ubmVjdG9yIH07XG4iXSwibmFtZXMiOlsiXyIsIl9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjIiwiYiIsIl9jbGFzc1ByaXZhdGVGaWVsZEdldCIsImEiLCJfY2xhc3NQcml2YXRlRmllbGRTZXQiLCJfZGVmaW5lUHJvcGVydHkiLCJ1dGlscyIsIm4iLCJub3JtYWxpemVDaGFpbklkIiwidyIsIndhbGxldElkcyIsIkMiLCJDb25uZWN0b3IiLCJFIiwiRW1iZWRkZWRXYWxsZXRTZGsiLCJVIiwiVXNlcldhbGxldFN0YXR1cyIsImMiLCJBdXRoUHJvdmlkZXIiLCJfZW1iZWRkZWRXYWxsZXRTZGsiLCJXZWFrTWFwIiwiX3NpZ25lciIsIkVtYmVkZGVkV2FsbGV0Q29ubmVjdG9yIiwiZ2V0RW1iZWRkZWRXYWxsZXRTREsiLCJjbGllbnRJZCIsIm9wdGlvbnMiLCJjaGFpbiIsIm9uQXV0aFN1Y2Nlc3MiLCJjb25uZWN0IiwiYXJncyIsInJlc3VsdCIsImF1dGhlbnRpY2F0ZSIsInN0cmF0ZWd5IiwidXNlciIsIkVycm9yIiwiYXV0aFJlc3VsdCIsImNoYWluSWQiLCJzd2l0Y2hDaGFpbiIsImdldEFkZHJlc3MiLCJkaXNjb25uZWN0IiwicGFwZXIiLCJhdXRoIiwibG9nb3V0IiwidW5kZWZpbmVkIiwiZ2V0U2lnbmVyIiwidGhlbiIsInNpZ25lciIsImlzQ29ubmVjdGVkIiwiYWRkciIsImUiLCJnZXRQcm92aWRlciIsInByb3ZpZGVyIiwiZ2V0VXNlciIsIndhbGxldCIsImdldEV0aGVyc0pzU2lnbmVyIiwicnBjRW5kcG9pbnQiLCJycGMiLCJpc0F1dGhvcml6ZWQiLCJjaGFpbnMiLCJmaW5kIiwic2V0Q2hhaW4iLCJlbWl0IiwiaWQiLCJ1bnN1cHBvcnRlZCIsImNvbnNvbGUiLCJ3YXJuIiwic2V0dXBMaXN0ZW5lcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVwZGF0ZUNoYWlucyIsImVtYmVkZGVkV2FsbGV0U2RrIiwic3RhdHVzIiwiTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRCIsImdldEVtYWlsIiwiYXV0aERldGFpbHMiLCJlbWFpbCIsImdldFJlY292ZXJ5SW5mb3JtYXRpb24iLCJzZW5kVmVyaWZpY2F0aW9uRW1haWwiLCJfcmVmIiwiZXdTREsiLCJzZW5kRW1haWxMb2dpbk90cCIsInBhcmFtcyIsInZlcmlmeUVtYWlsTG9naW5PdHAiLCJvdHAiLCJ2ZXJpZmljYXRpb25Db2RlIiwicmVjb3ZlcnlDb2RlIiwib2F1dGhQcm92aWRlciIsIm9hdXRoU3RyYXRlZ3lUb0F1dGhQcm92aWRlciIsImxvZ2luV2l0aE9hdXRoIiwiY2xvc2VPcGVuZWRXaW5kb3ciLCJvcGVuZWRXaW5kb3ciLCJsb2dpbldpdGhDdXN0b21Kd3QiLCJqd3QiLCJlbmNyeXB0aW9uS2V5IiwibG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50IiwicGF5bG9hZCIsImxvZ2luV2l0aEVtYWlsT3RwIiwibG9naW5XaXRoTW9kYWwiLCJhc3NlcnRVbnJlYWNoYWJsZSIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJ2YWx1ZSIsImFjY291bnRzIiwibGVuZ3RoIiwib25EaXNjb25uZWN0IiwiYWNjb3VudCIsImZpbmRJbmRleCIsIngiLCJnb29nbGUiLCJHT09HTEUiLCJmYWNlYm9vayIsIkZBQ0VCT09LIiwiYXBwbGUiLCJBUFBMRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.2_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-si_q3uhj54vw2tqcdxon24cvgplba/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js\n"));

/***/ })

}]);